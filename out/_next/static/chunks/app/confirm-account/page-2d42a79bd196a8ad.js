(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{19078:(e,n,t)=>{"use strict";t.d(n,{K$:()=>i,xO:()=>o});var r=t(56276);function i(e){}function o(e=!0){r.z.dispatch({type:"RESET"})}t(35346),t(82321)},19276:(e,n,t)=>{"use strict";t.d(n,{z:()=>y});var r=t(42656),i=t(62468),o=t(96778),a=t(43425),s=t(99643),d=t(69895),c=t(6929),l=t(23251),u=t(11719),m=t(83507),p=t(74267),g=t(49240),h=t(87395),f=t(83578);let x=e=>(0,m.A)(g.e,(0,h._)("ConfirmSignUp"),(0,f.T)(),{...p.C,...e});var S=t(40850),v=t(56276),C=t(19078);async function y(e){let{username:n,confirmationCode:t,options:m}=e,p=r.H.getConfig().Auth?.Cognito;(0,i.$y)(p);let{userPoolId:g,userPoolClientId:h,userPoolEndpoint:f}=p,y=m?.clientMetadata;(0,s.M)(!!n,d.P.EmptyConfirmSignUpUsername),(0,s.M)(!!t,d.P.EmptyConfirmSignUpCode);let E=(0,u.d)({username:n,userPoolId:g,userPoolClientId:h}),b=x({endpointResolver:(0,S.o)({endpointOverride:f})}),{Session:w}=await b({region:(0,c.J)(p.userPoolId),userAgentValue:(0,l.A)(o.BM.ConfirmSignUp)},{Username:n,ConfirmationCode:t,ClientMetadata:y,ForceAliasCreation:m?.forceAliasCreation,ClientId:p.userPoolClientId,UserContextData:E});return new Promise((e,t)=>{try{let t={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},r=v.z.getState();if(!r.active||r.username!==n){e(t),(0,C.xO)();return}v.z.dispatch({type:"SET_SESSION",value:w});let i=a.f3.listen("auth-internal",({payload:n})=>{"autoSignIn"===n.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),i())});a.f3.dispatch("auth-internal",{event:"confirmSignUp",data:t})}catch(e){t(e)}})}},27830:(e,n,t)=>{Promise.resolve().then(t.bind(t,34032))},34032:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>c});var r=t(95155),i=t(12115),o=t(76046),a=t(19276),s=t(48173),d=t.n(s);function c(){let[e,n]=(0,i.useState)(""),[t,s]=(0,i.useState)(""),[c,l]=(0,i.useState)(""),[u,m]=(0,i.useState)(""),[p,g]=(0,i.useState)(!1),h=(0,o.useRouter)();(0,i.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("username");e&&n(e)},[]);let f=async n=>{if(n.preventDefault(),g(!0),l(""),m(""),!e){l("Username is required"),g(!1);return}if(!t){l("Confirmation code is required"),g(!1);return}try{let n=await (0,a.z)({username:e,confirmationCode:t});console.log("Confirmation result:",n),n.isSignUpComplete?(m("Account confirmed successfully! You can now log in."),setTimeout(()=>{h.push("/login?username="+encodeURIComponent(e))},2e3)):l("Confirmation was not completed. Please try again.")}catch(e){console.error("Confirmation error:",e),"CodeMismatchException"===e.name?l("Invalid confirmation code. Please check and try again."):"ExpiredCodeException"===e.name?l("Confirmation code has expired. Please request a new one."):l(e.message||"Error confirming account")}finally{g(!1)}};return(0,r.jsxs)("div",{style:{maxWidth:"400px",margin:"2rem auto",padding:"2rem",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",borderRadius:"8px",backgroundColor:"white"},children:[(0,r.jsx)("h2",{style:{marginBottom:"1.5rem"},children:"Confirm Your Account"}),(0,r.jsxs)("form",{onSubmit:f,children:[(0,r.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,r.jsx)("label",{children:"Username:"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{value:e,onChange:e=>n(e.target.value),required:!0,disabled:p,style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px",marginTop:"0.5rem"}})]}),(0,r.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,r.jsx)("label",{children:"Confirmation Code:"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{value:t,onChange:e=>s(e.target.value),required:!0,disabled:p,placeholder:"Enter code from email",style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px",marginTop:"0.5rem"}}),(0,r.jsx)("small",{style:{color:"#666",display:"block",marginTop:"0.5rem"},children:"Check your email for a confirmation code sent when you signed up"})]}),c&&(0,r.jsx)("p",{style:{color:"red",backgroundColor:"#ffeeee",padding:"0.5rem",borderRadius:"4px",marginBottom:"1rem"},children:c}),u&&(0,r.jsx)("p",{style:{color:"green",backgroundColor:"#eeffee",padding:"0.5rem",borderRadius:"4px",marginBottom:"1rem"},children:u}),(0,r.jsx)("button",{type:"submit",disabled:p,style:{backgroundColor:"#2873ff",color:"white",border:"none",borderRadius:"4px",padding:"0.75rem 1rem",width:"100%",fontWeight:"bold",cursor:p?"not-allowed":"pointer",opacity:p?.7:1},children:p?"Confirming...":"Confirm Account"})]}),(0,r.jsx)("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:(0,r.jsx)(d(),{href:"/login",style:{color:"#2873ff",textDecoration:"none"},children:"Back to Login"})})]})}},56276:(e,n,t)=>{"use strict";function r(){return{active:!1}}t.d(n,{z:()=>i});let i=(e=>{let n=e(r(),{type:"RESET"});return{getState:()=>n,dispatch:t=>{n=e(n,t)}}})((e,n)=>{switch(n.type){case"SET_USERNAME":return{...e,username:n.value};case"SET_SESSION":return{...e,session:n.value};case"START":return{...e,active:!0};case"RESET":return r();default:return e}})},82321:(e,n,t)=>{"use strict";t.d(n,{$6:()=>l,A0:()=>s,Cs:()=>m,RW:()=>d,jK:()=>c,kM:()=>a,mh:()=>u,yA:()=>p,z0:()=>o,zz:()=>i});var r=t(35346);let i="UserUnAuthenticatedException",o="UserAlreadyAuthenticatedException",a="DeviceMetadataNotFoundException",s="AutoSignInException",d=new r.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new r.l({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});let c=new r.l({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),l=new r.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),u="OAuthSignOutException",m="TokenRefreshException",p="UnexpectedSignInInterruptionException"}},e=>{var n=n=>e(e.s=n);e.O(0,[9845,8441,6587,7358],()=>n(27830)),_N_E=e.O()}]);