(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7636],{24673:(e,t,s)=>{Promise.resolve().then(s.bind(s,61539))},25161:e=>{e.exports={container:"projects_container__qVZ1B",projectsContainer:"projects_projectsContainer__Bw4Hz",pageHeader:"projects_pageHeader__itJMY",pageTitle:"projects_pageTitle__35vTG",createButton:"projects_createButton__19OXc",createButtonFull:"projects_createButtonFull__NEEmc",createButtonIcon:"projects_createButtonIcon__SCadI",createButtonText:"projects_createButtonText__JwryQ",tableContainer:"projects_tableContainer__VYJyJ",projectTable:"projects_projectTable__XShg6",indexColumn:"projects_indexColumn__hqPxJ",altRow:"projects_altRow__0ujRi",hoverableRow:"projects_hoverableRow__kXlGa",projectNameCell:"projects_projectNameCell__hTGiq",expandIcon:"projects_expandIcon__KXONs",status:"projects_status__azNAX",completed:"projects_completed__Q1jiO",pending:"projects_pending__PdD_G",draft:"projects_draft__BhrPK",actionColumn:"projects_actionColumn__cgati",dropdown:"projects_dropdown__HHhJw",viewButton:"projects_viewButton__dpdio",approveButton:"projects_approveButton__GAm02",fullViewButton:"projects_fullViewButton__gHV44",addFilesButton:"projects_addFilesButton__ld_GD",pendingStatus:"projects_pendingStatus__QepfJ",menuButton:"projects_menuButton__m18aU",deleteButton:"projects_deleteButton__Z0fzX",expandedRow:"projects_expandedRow__SjYco",expandRow:"projects_expandRow__W5ZNO",expandedContent:"projects_expandedContent__5Bv2Y",expandedSection:"projects_expandedSection__7um4f",projectDetails:"projects_projectDetails__m4n7f",detailItem:"projects_detailItem__fH1A2",detailLabel:"projects_detailLabel__NW5Oz",detailValue:"projects_detailValue__6UNaX",filesSectionHeader:"projects_filesSectionHeader__UONkG",fileActions:"projects_fileActions__lDANC",uploadButton:"projects_uploadButton__e6c8B",uploadButtonDisabled:"projects_uploadButtonDisabled__QgxqA",hiddenFileInput:"projects_hiddenFileInput__f9WWk",filesGrid:"projects_filesGrid__zRnVw",fileCard:"projects_fileCard__GBLrd",fileIcon:"projects_fileIcon__RstDS",fileInfo:"projects_fileInfo__IHRk6",fileName:"projects_fileName__GiIqr",fileSize:"projects_fileSize__xGttK",fileDeleteButton:"projects_fileDeleteButton__m74qs",loadingFiles:"projects_loadingFiles__O1Xsh",spinnerSmall:"projects_spinnerSmall__teWNR",spin:"projects_spin__Ksvs9",noFiles:"projects_noFiles__9al3K",modalOverlay:"projects_modalOverlay__uy1kK",fadeIn:"projects_fadeIn__6s3Op",modal:"projects_modal__Nvzwa",slideUp:"projects_slideUp__6Y6zi",modalHeader:"projects_modalHeader__uqjhx",modalCloseButton:"projects_modalCloseButton__G08jL",modalContent:"projects_modalContent__HgE1i",warningIcon:"projects_warningIcon__BG162",approveIcon:"projects_approveIcon__xROrT",modalMessage:"projects_modalMessage__YRIIu",confirmInstructions:"projects_confirmInstructions__yi4oA",approveInstructions:"projects_approveInstructions__VLt4E",confirmInput:"projects_confirmInput__aySGA",modalActions:"projects_modalActions__FYcjI",cancelButton:"projects_cancelButton__DM4QK",confirmDeleteButton:"projects_confirmDeleteButton__TihA3",confirmApproveButton:"projects_confirmApproveButton__s_ze8",emptyStateContainer:"projects_emptyStateContainer__4Ddln",emptyStateIcon:"projects_emptyStateIcon__AGzYG",emptyStateIconIcon:"projects_emptyStateIconIcon__PiELj",emptyState:"projects_emptyState__XfIR1",emptyStateHeader:"projects_emptyStateHeader__sA6B4",emptyDescription:"projects_emptyDescription__ltPnv",btnApprove:"projects_btnApprove__s1api",btnPrimary:"projects_btnPrimary__xXTBS",menuWrapper:"projects_menuWrapper__aoFCD",menuDropdown:"projects_menuDropdown__H1bAw",menuItem:"projects_menuItem__fSVUk",menuItemIcon:"projects_menuItemIcon__xlvpF",menuItemText:"projects_menuItemText__TvSVu",searchContainer:"projects_searchContainer__99Ulq",searchBar:"projects_searchBar__2eGSU",searchInput:"projects_searchInput__aEgYK",searchButton:"projects_searchButton__DBBvY",sortControls:"projects_sortControls__urszJ",sortButton:"projects_sortButton__v3DVU",tableSortButton:"projects_tableSortButton__rBpMV",dateTimeCell:"projects_dateTimeCell__bhT0h",date:"projects_date__cIqjW",time:"projects_time__bJQSf",clearSearchButton:"projects_clearSearchButton__HHXI8",selectColumn:"projects_selectColumn__O___G",selectAllCheckbox:"projects_selectAllCheckbox__ndb12",projectCheckbox:"projects_projectCheckbox__u_Zye",checkbox:"projects_checkbox__Za263",checkboxChecked:"projects_checkboxChecked__pxLRg",selectedRow:"projects_selectedRow__HOn9a",bulkActionsBar:"projects_bulkActionsBar__tLOks",selectedCount:"projects_selectedCount__cigAE",bulkActions:"projects_bulkActions__hFH1C",bulkDeleteButton:"projects_bulkDeleteButton__M8SeY",bulkApproveButton:"projects_bulkApproveButton__to437",noteText:"projects_noteText___UrNB",functionsBar:"projects_functionsBar__IG2Ke"}},61539:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(95155),o=s(12115),n=s(48173),c=s.n(n),l=s(76046),i=s(25161),r=s.n(i),d=s(68996),p=s(97908),j=s(9757),u=s(95055),m=s(96817);function h(){let[e,t]=(0,o.useState)([]),[s,n]=(0,o.useState)(null),[i,h]=(0,o.useState)(null),[_,x]=(0,o.useState)(!0),[f,N]=(0,o.useState)(!1),[g,v]=(0,o.useState)(!1),[y,C]=(0,o.useState)(null),[b,w]=(0,o.useState)(""),[B,S]=(0,o.useState)(!1),[k,I]=(0,o.useState)(!1),[D,P]=(0,o.useState)([]),[A,F]=(0,o.useState)(!1),L=(0,o.useRef)(null),[T,O]=(0,o.useState)(""),[E,H]=(0,o.useState)("desc"),[G,R]=(0,o.useState)({}),[z,M]=(0,o.useState)(!1),[V,J]=(0,o.useState)(!1),[W,Y]=(0,o.useState)(!1),[X,q]=(0,o.useState)(!1),{identityId:Q,isAuthenticated:U,listFiles:K,getFileUrl:Z,deleteFile:$,uploadFile:ee,user:et}=(0,d.m)(),es=(0,l.useRouter)();(0,o.useEffect)(()=>{U&&Q&&en()},[U,Q]),(0,o.useEffect)(()=>()=>{N(!1),v(!1),Y(!1),q(!1)},[]),(0,o.useEffect)(()=>{J(Object.values(G).some(e=>e))},[G]);let ea=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=document.createElement("div");s.className="".concat(r().toast," ").concat(r()[t]),s.innerHTML='\n      <div class="'.concat(r().toastContent,'">\n        <span>').concat(e,'</span>\n        <button class="').concat(r().toastClose,'">\xd7</button>\n      </div>\n    '),document.body.appendChild(s),setTimeout(()=>{s.classList.add(r().exiting),setTimeout(()=>{document.body.removeChild(s)},300)},3e3),s.querySelector(".".concat(r().toastClose)).addEventListener("click",()=>{s.classList.add(r().exiting),setTimeout(()=>{document.body.removeChild(s)},300)})},eo=e=>{let t=new Date(e);return{date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},en=async()=>{try{x(!0);let e=await K("clients/".concat(Q,"/")),s=e.filter(e=>e.path.includes("/project-info.json")),a=[];for(let t of s)try{let s=t.path.split("/")[2],o=await Z(t.path),n=await fetch(o);if(!n.ok)continue;let c=await n.json(),l=e.filter(e=>{let t=e.path||e.key||"";return t.includes("/".concat(s,"/data/"))&&!t.endsWith(".uploadstate")});a.push({id:c.id||Date.now().toString(),name:c.name||s,company:c.company||"",description:c.description||"No description provided",status:c.status||"Draft",createdAt:c.createdAt,date:new Date(c.createdAt).toLocaleDateString(),files:l.length,size:ec(c.totalBytes||l.reduce((e,t)=>e+t.size,0)),folderPath:"".concat(Q,"/").concat(s)})}catch(e){console.error("Error processing project info: ".concat(t.path),e)}t(a),R({}),M(!1)}catch(e){console.error("Error loading user projects:",e),t([])}finally{x(!1)}},ec=e=>e<1024?e+" B":e<1048576?Math.round(e/1024)+" KB":e<0x40000000?(e/1048576).toFixed(1)+" MB":(e/0x40000000).toFixed(2)+" GB",el=e.filter(e=>{if(!T)return!0;let t=T.toLowerCase();return e.name.toLowerCase().includes(t)||e.company.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)}).sort((e,t)=>{let s=new Date(e.createdAt||e.date),a=new Date(t.createdAt||t.date);return"desc"===E?a-s:s-a}),ei=e=>"Draft"===e.status&&e.files>0?(0,a.jsxs)("button",{className:r().approveButton,onClick:t=>{t.stopPropagation(),ex(e)},children:[(0,a.jsx)(j.g,{icon:u.SGM}),(0,a.jsx)("span",{children:"Approve"})]}):"Draft"===e.status&&0===e.files?(0,a.jsxs)("button",{className:r().addFilesButton,onClick:t=>{t.stopPropagation(),es.push("/dashboard/projectview?project-id=".concat(e.id))},children:[(0,a.jsx)(j.g,{icon:u.QLR}),"Add Files"]}):"Pending"===e.status?(0,a.jsx)("span",{className:r().pendingStatus}):"Completed"===e.status?(0,a.jsx)("button",{className:r().viewButton,onClick:t=>{t.stopPropagation(),ef(e.id)},children:"View Results"}):null,er=async()=>{if(y){if(b!==y.name){alert("Project name does not match. Deletion cancelled.");return}try{S(!0),console.log("Deleting project files for ".concat(y.name," from S3"));let e="clients/".concat(y.folderPath,"/");for(let t of(console.log("Listing files in: ".concat(e)),await K(e))){if(t.path.endsWith("/"))for(let e of(await K(t.path)))await $(e.path),console.log("Deleted file: ".concat(e.path));await $(t.path),console.log("Deleted: ".concat(t.path))}t(e=>e.filter(e=>e.id!==y.id)),R(e=>{let t={...e};return delete t[y.id],t}),N(!1),C(null),w(""),n(null),ea("Project ".concat(y.name," deleted successfully"),"success"),console.log("Project ".concat(y.name," deleted successfully"))}catch(e){console.error("Error deleting project:",e),ea("Failed to delete project. Please try again.","error")}finally{S(!1)}}},ed=async()=>{if(y)try{I(!0);let e="clients/".concat(y.folderPath),s="".concat(e,"/project-info.json"),a=await Z(s),o=await fetch(a);if(!o.ok)throw Error("Failed to fetch project info: ".concat(o.status));let c=await o.json();c.status="Pending",await ee(new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),s),t(e=>e.map(e=>e.id===y.id?{...e,status:"Pending"}:e)),v(!1),C(null),n(null),ea("Project approved and being processed!","success")}catch(e){console.error("Error approving project:",e),ea("Failed to approve project. Please try again.","error")}finally{I(!1)}},ep=async()=>{try{I(!0);let a=0,o=[];for(let t of Object.keys(G).filter(t=>{var s,a;return G[t]&&(null===(s=e.find(e=>e.id===t))||void 0===s?void 0:s.status)==="Draft"&&(null===(a=e.find(e=>e.id===t))||void 0===a?void 0:a.files)>0}))try{let s=e.find(e=>e.id===t),n="clients/".concat(s.folderPath),c="".concat(n,"/project-info.json"),l=await Z(c),i=await fetch(l);if(!i.ok){o.push(s.name);continue}let r=await i.json();r.status="Pending",await ee(new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),c),a++}catch(n){var s;console.error("Error approving project ".concat(t,":"),n);let a=(null===(s=e.find(e=>e.id===t))||void 0===s?void 0:s.name)||t;o.push(a)}t(e=>e.map(e=>G[e.id]?{...e,status:"Pending"}:e)),R({}),M(!1),q(!1),0===o.length?ea("".concat(a," projects approved successfully!"),"success"):ea("".concat(a," projects approved. Failed to approve: ").concat(o.join(", ")),"warning")}catch(e){console.error("Error in bulk approve:",e),ea("Failed to complete bulk approve operation.","error")}finally{I(!1)}},ej=async()=>{try{S(!0);let a=0,o=[];for(let t of Object.keys(G).filter(e=>G[e]))try{let s=e.find(e=>e.id===t),o="clients/".concat(s.folderPath,"/");for(let e of(await K(o))){if(e.path.endsWith("/"))for(let t of(await K(e.path)))await $(t.path);await $(e.path)}a++}catch(n){var s;console.error("Error deleting project ".concat(t,":"),n);let a=(null===(s=e.find(e=>e.id===t))||void 0===s?void 0:s.name)||t;o.push(a)}t(e=>e.filter(e=>!G[e.id])),R({}),M(!1),Y(!1),0===o.length?ea("".concat(a," projects deleted successfully!"),"success"):ea("".concat(a," projects deleted. Failed to delete: ").concat(o.join(", ")),"warning")}catch(e){console.error("Error in bulk delete:",e),ea("Failed to complete bulk delete operation.","error")}finally{S(!1)}},eu=async t=>{if(i===t){h(null);return}h(t),F(!0);try{let s=e.find(e=>e.id===t);if(!s)throw Error("Project not found");let a="clients/".concat(s.folderPath,"/data/"),o=(await K(a)).filter(e=>!(e.path||e.key||"").endsWith(".uploadstate")),n=await Promise.all(o.map(async e=>{let t=await Z(e.path);return{...e,url:t,size:ec(e.size),extension:e.path.split(".").pop().toLowerCase(),uploadDate:new Date().toLocaleDateString("en-GB")}}));P(n)}catch(e){console.error("Error loading project files:",e),P([])}finally{F(!1)}},em=async e=>{if(!y)return;let s=Array.from(e.target.files);if(0!==s.length)try{F(!0);let e="clients/".concat(y.folderPath,"/data/");for(let t of s)await ee(t,"".concat(e).concat(t.name));let a="clients/".concat(y.folderPath,"/project-info.json"),o=await Z(a),n=await fetch(o);if(!n.ok)throw Error("Failed to fetch project info: ".concat(n.status));let c=await n.json(),l=await K(e),i=l.reduce((e,t)=>e+t.size,0);c.totalBytes=i,c.fileCount=l.length,await ee(new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),a),t(e=>e.map(e=>e.id===y.id?{...e,files:l.length,size:ec(i)}:e)),await eu(y.id),ea("Files uploaded successfully!","success")}catch(e){console.error("Error uploading files:",e),ea("Failed to upload files. Please try again.","error")}finally{F(!1)}},eh=async e=>{if(y){if(e.endsWith(".uploadstate")){ea("Cannot delete system files directly.","error");return}if(confirm("Are you sure you want to delete this file?"))try{F(!0),await $(e);try{await $("".concat(e,".uploadstate")),console.log("Deleted associated upload state file for ".concat(e))}catch(e){console.log("No upload state file found to delete")}let s="clients/".concat(y.folderPath,"/project-info.json"),a=await Z(s),o=await fetch(a);if(!o.ok)throw Error("Failed to fetch project info: ".concat(o.status));let n=await o.json(),c="clients/".concat(y.folderPath,"/data/"),l=(await K(c)).filter(e=>!(e.path||e.key||"").endsWith(".uploadstate")),i=l.reduce((e,t)=>e+t.size,0);n.totalBytes=i,n.fileCount=l.length,await ee(new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),s),t(e=>e.map(e=>e.id===y.id?{...e,files:l.length,size:ec(i)}:e)),P(t=>t.filter(t=>t.path!==e)),ea("File deleted successfully!","success")}catch(e){console.error("Error deleting file:",e),ea("Failed to delete file. Please try again.","error")}finally{F(!1)}}},e_=e=>{C(e),N(!0),n(null)},ex=e=>{C(e),v(!0),n(null)},ef=e=>{es.push("/project/".concat(e,"/results"))},eN=e=>{es.push("/dashboard/projectview?project-id=".concat(e))},eg=e=>{n(s===e?null:e)},ev=(e,t)=>{e.stopPropagation(),R(e=>{let s={...e};return s[t]=!e[t],s})},ey=Object.values(G).filter(Boolean).length,eC=e.filter(e=>G[e.id]&&"Draft"===e.status&&e.files>0).length;return _?(0,a.jsx)(p.default,{fullPage:!0,text:"Loading your projects..."}):(0,a.jsxs)("div",{className:r().container,children:[(0,a.jsxs)("div",{className:r().pageHeader,children:[(0,a.jsx)("h1",{className:r().pageTitle,children:"Your Projects"}),(0,a.jsx)(c(),{href:"/dashboard/create-project",children:(0,a.jsxs)("button",{className:r().createButton,children:[(0,a.jsx)(j.g,{icon:u.QLR,className:r().createButtonIcon}),(0,a.jsx)("span",{className:r().createButtonText,children:"New Project"})]})})]}),(0,a.jsxs)("div",{className:r().functionsBar,children:[(0,a.jsx)("div",{className:r().searchContainer,children:(0,a.jsxs)("div",{className:r().searchBar,children:[(0,a.jsx)("input",{type:"text",placeholder:"Search projects by name, company or description...",value:T,onChange:e=>O(e.target.value),className:r().searchInput}),(0,a.jsx)("button",{className:r().searchButton,children:(0,a.jsx)(j.g,{icon:u.MjD})})]})}),V&&(0,a.jsxs)("div",{className:r().bulkActionsBar,children:[(0,a.jsx)("div",{className:r().selectedCount,children:(0,a.jsxs)("span",{children:[ey," projects selected"]})}),(0,a.jsxs)("div",{className:r().bulkActions,children:[eC>0&&(0,a.jsxs)("button",{className:r().bulkApproveButton,onClick:()=>q(!0),children:[(0,a.jsx)(j.g,{icon:u.SGM}),"Approve Selected (",eC,")"]}),(0,a.jsxs)("button",{className:r().bulkDeleteButton,onClick:()=>Y(!0),children:[(0,a.jsx)(j.g,{icon:u.yLS}),"Delete Selected"]})]})]})]}),(0,a.jsx)("div",{className:r().projectsContainer,children:el.length>0?(0,a.jsx)("div",{className:r().tableContainer,children:(0,a.jsxs)("table",{className:r().projectTable,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:r().selectColumn,children:(0,a.jsx)("div",{className:r().selectAllCheckbox,onClick:()=>{if(z)R({});else{let e={};el.forEach(t=>{e[t.id]=!0}),R(e)}M(!z)},children:(0,a.jsx)(j.g,{icon:z?u.rQb:u.Nfw,className:z?r().checkboxChecked:r().checkbox})})}),(0,a.jsx)("th",{children:"Project Name"}),(0,a.jsx)("th",{children:"Company"}),(0,a.jsx)("th",{children:"Status"}),(0,a.jsxs)("th",{className:r().dateColumn,children:["Date & Time",(0,a.jsx)("button",{className:r().tableSortButton,onClick:()=>{H("desc"===E?"asc":"desc")},children:(0,a.jsx)(j.g,{icon:"desc"===E?u.Ync:u.Dvs})})]}),(0,a.jsx)("th",{children:"Files"}),(0,a.jsx)("th",{children:"Size"}),(0,a.jsx)("th",{children:"Action"})]})}),(0,a.jsx)("tbody",{children:el.map((e,t)=>{let n="project-".concat(e.id),c="project-".concat(e.id,"-expanded"),{date:l,time:d}=eo(e.createdAt),p=G[e.id]||!1;return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsxs)("tr",{className:"".concat(t%2==1?r().altRow:""," ").concat(r().hoverableRow," ").concat(p?r().selectedRow:""),onClick:()=>eu(e.id),children:[(0,a.jsx)("td",{className:r().selectColumn,onClick:e=>e.stopPropagation(),children:(0,a.jsx)("div",{className:r().projectCheckbox,onClick:t=>ev(t,e.id),children:(0,a.jsx)(j.g,{icon:p?u.rQb:u.Nfw,className:p?r().checkboxChecked:r().checkbox})})}),(0,a.jsx)("td",{children:(0,a.jsxs)("div",{className:r().projectNameCell,children:[e.name,(0,a.jsx)(j.g,{icon:i===e.id?u.w2A:u.Jt$,className:r().expandIcon})]})}),(0,a.jsx)("td",{children:e.company}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"".concat(r().status," ").concat("Completed"===e.status?r().completed:"Pending"===e.status?r().pending:r().draft),children:e.status})}),(0,a.jsx)("td",{children:(0,a.jsxs)("div",{className:r().dateTimeCell,children:[(0,a.jsx)("span",{className:r().date,children:l}),(0,a.jsx)("span",{className:r().time,children:d})]})}),(0,a.jsx)("td",{children:e.files}),(0,a.jsx)("td",{children:e.size}),(0,a.jsxs)("td",{className:r().actionColumn,children:[ei(e),(0,a.jsxs)("button",{className:r().fullViewButton,onClick:t=>{t.stopPropagation(),eN(e.id)},title:"View full project details",children:[(0,a.jsx)(j.g,{icon:u.hpd}),"Edit"]}),(0,a.jsxs)("div",{className:r().menuWrapper,children:[(0,a.jsx)("button",{className:r().menuButton,onClick:e=>{e.stopPropagation(),eg(t)},"aria-label":"Project options",children:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,a.jsx)("circle",{cx:"12",cy:"5",r:"1"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,a.jsx)("circle",{cx:"12",cy:"19",r:"1"})]})}),s===t&&(0,a.jsxs)("div",{className:r().menuDropdown,children:["Draft"===e.status&&e.files>0&&(0,a.jsxs)("button",{className:r().menuItem,onClick:t=>{t.stopPropagation(),ex(e)},children:[(0,a.jsx)(j.g,{className:r().menuItemIcon,icon:u.SGM}),(0,a.jsx)("span",{className:r().menuItemText,children:"Approve"})]}),(0,a.jsxs)("button",{className:r().menuItem,onClick:t=>{t.stopPropagation(),e_(e)},children:[(0,a.jsx)(j.g,{className:r().menuItemIcon,icon:u.yLS}),(0,a.jsx)("span",{className:r().menuItemText,children:"Delete"})]})]})]})]})]}),i===e.id&&(0,a.jsx)("tr",{className:r().expandedRow,onClick:e=>e.stopPropagation(),children:(0,a.jsx)("td",{colSpan:"9",children:(0,a.jsxs)("div",{className:r().expandedContent,children:[(0,a.jsxs)("div",{className:r().expandedSection,children:[(0,a.jsx)("h3",{children:"Project Details"}),(0,a.jsxs)("div",{className:r().projectDetails,children:[(0,a.jsxs)("div",{className:r().detailItem,children:[(0,a.jsx)("span",{className:r().detailLabel,children:"Description:"}),(0,a.jsx)("span",{className:r().detailValue,children:e.description})]}),(0,a.jsxs)("div",{className:r().detailItem,children:[(0,a.jsx)("span",{className:r().detailLabel,children:"Created By:"}),(0,a.jsx)("span",{className:r().detailValue,children:(0,m.I)(et.username)||"Unknown"})]}),(0,a.jsxs)("div",{className:r().detailItem,children:[(0,a.jsx)("span",{className:r().detailLabel,children:"Created On:"}),(0,a.jsxs)("span",{className:r().detailValue,children:[l," at ",d]})]})]})]}),(0,a.jsxs)("div",{className:r().expandedSection,children:[(0,a.jsxs)("div",{className:r().filesSectionHeader,children:[(0,a.jsx)("h3",{children:"Files"}),(0,a.jsx)("div",{className:r().fileActions,children:(0,a.jsx)("input",{type:"file",multiple:!0,ref:L,onChange:em,className:r().hiddenFileInput})})]}),A?(0,a.jsxs)("div",{className:r().loadingFiles,children:[(0,a.jsx)("div",{className:r().spinnerSmall}),(0,a.jsx)("span",{children:"Loading files..."})]}):(0,a.jsx)(a.Fragment,{children:D.length>0?(0,a.jsx)("div",{className:r().filesGrid,children:D.filter(e=>!e.path.split("/").pop().endsWith(".uploadstate")).map((t,s)=>(0,a.jsxs)("div",{className:r().fileCard,children:[(0,a.jsx)("div",{className:r().fileIcon,children:(0,a.jsx)(j.g,{icon:u.h8M})}),(0,a.jsxs)("div",{className:r().fileInfo,children:[(0,a.jsx)("span",{className:r().fileName,children:t.path.split("/").pop()}),(0,a.jsx)("span",{className:r().fileSize,children:t.size})]}),(0,a.jsx)("button",{className:r().fileDeleteButton,onClick:()=>eh(t.path),title:"Delete file",disabled:"Draft"!==e.status,children:(0,a.jsx)(j.g,{icon:u.yLS})})]},"file-".concat(s)))}):(0,a.jsx)("div",{className:r().noFiles,children:(0,a.jsx)("p",{children:"No files found in this project."})})})]})]})})},c)]},n)})})]})}):(0,a.jsx)("div",{className:r().emptyStateContainer,children:T?(0,a.jsxs)("div",{className:r().emptyState,children:[(0,a.jsxs)("div",{className:r().emptyStateHeader,children:[(0,a.jsx)("div",{className:r().emptyStateIcon,children:(0,a.jsx)(j.g,{icon:u.MjD,className:r().emptyStateIconIcon})}),(0,a.jsxs)("div",{className:r().emptyDescription,children:[(0,a.jsx)("h3",{children:"No Projects Found"}),(0,a.jsxs)("p",{children:['No projects match your search for "',T,'". Try a different search term.']})]})]}),(0,a.jsx)("button",{className:r().clearSearchButton,onClick:()=>O(""),children:"Clear Search"})]}):(0,a.jsxs)("div",{className:r().emptyState,children:[(0,a.jsxs)("div",{className:r().emptyStateHeader,children:[(0,a.jsx)("div",{className:r().emptyStateIcon,children:(0,a.jsx)(j.g,{icon:u.LJS,className:r().emptyStateIconIcon})}),(0,a.jsxs)("div",{className:r().emptyDescription,children:[(0,a.jsx)("h3",{children:"No Projects Yet"}),(0,a.jsx)("p",{children:"You don't have any projects yet. Create your first project to get started."})]})]}),(0,a.jsx)(c(),{href:"/dashboard/create-project",children:(0,a.jsxs)("button",{className:r().createButtonFull,children:[(0,a.jsx)(j.g,{icon:u.QLR,className:r().createButtonIcon}),(0,a.jsx)("span",{className:r().createButtonText,children:"New Project"})]})})]})})}),f&&(0,a.jsx)("div",{className:r().modalOverlay,onClick:()=>!B&&N(!1),children:(0,a.jsxs)("div",{className:r().modal,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:r().modalHeader,children:[(0,a.jsx)("h2",{children:"Delete Project"}),!B&&(0,a.jsx)("button",{className:r().modalCloseButton,onClick:()=>N(!1),children:"\xd7"})]}),(0,a.jsxs)("div",{className:r().modalContent,children:[(0,a.jsx)("div",{className:r().warningIcon,children:(0,a.jsx)(j.g,{icon:u.yLS})}),(0,a.jsxs)("p",{className:r().modalMessage,children:["Are you sure you want to delete"," ",(0,a.jsx)("strong",{children:null==y?void 0:y.name}),"? This action cannot be undone."]}),(0,a.jsxs)("p",{className:r().confirmInstructions,children:["Type ",(0,a.jsx)("strong",{children:null==y?void 0:y.name})," below to confirm:"]}),(0,a.jsx)("input",{type:"text",className:r().confirmInput,value:b,onChange:e=>w(e.target.value),placeholder:"Type project name to confirm",disabled:B})]}),(0,a.jsxs)("div",{className:r().modalActions,children:[!B&&(0,a.jsx)("button",{className:r().cancelButton,onClick:()=>N(!1),children:"Cancel"}),(0,a.jsx)("button",{className:r().confirmDeleteButton,onClick:er,disabled:b!==(null==y?void 0:y.name)||B,children:B?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:r().spinnerSmall}),"Deleting..."]}):"Delete Project"})]})]})}),g&&(0,a.jsx)("div",{className:r().modalOverlay,onClick:()=>!k&&v(!1),children:(0,a.jsxs)("div",{className:r().modal,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:r().modalHeader,children:[(0,a.jsx)("h2",{children:"Approve Project"}),!k&&(0,a.jsx)("button",{className:r().modalCloseButton,onClick:()=>v(!1),children:"\xd7"})]}),(0,a.jsxs)("div",{className:r().modalContent,children:[(0,a.jsx)("div",{className:r().approveIcon,children:(0,a.jsx)(j.g,{icon:u.SGM})}),(0,a.jsxs)("p",{className:r().modalMessage,children:["You're about to approve ",(0,a.jsx)("strong",{children:null==y?void 0:y.name})," ","for processing."]}),(0,a.jsx)("p",{className:r().approveInstructions,children:'Once approved, your files will be sent to our data engineers for review. The project status will change to "Pending" until processing begins.'})]}),(0,a.jsxs)("div",{className:r().modalActions,children:[!k&&(0,a.jsx)("button",{className:r().cancelButton,onClick:()=>v(!1),children:"Cancel"}),(0,a.jsx)("button",{className:r().confirmApproveButton,onClick:ed,disabled:k,children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:r().spinnerSmall}),"Approving..."]}):"Approve Project"})]})]})}),W&&(0,a.jsx)("div",{className:r().modalOverlay,onClick:()=>!B&&Y(!1),children:(0,a.jsxs)("div",{className:r().modal,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:r().modalHeader,children:[(0,a.jsx)("h2",{children:"Delete Multiple Projects"}),!B&&(0,a.jsx)("button",{className:r().modalCloseButton,onClick:()=>Y(!1),children:"\xd7"})]}),(0,a.jsxs)("div",{className:r().modalContent,children:[(0,a.jsx)("div",{className:r().warningIcon,children:(0,a.jsx)(j.g,{icon:u.yLS})}),(0,a.jsxs)("p",{className:r().modalMessage,children:["Are you sure you want to delete ",(0,a.jsx)("strong",{children:ey})," ","projects? This action cannot be undone."]})]}),(0,a.jsxs)("div",{className:r().modalActions,children:[!B&&(0,a.jsx)("button",{className:r().cancelButton,onClick:()=>Y(!1),children:"Cancel"}),(0,a.jsx)("button",{className:r().confirmDeleteButton,onClick:ej,disabled:B,children:B?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:r().spinnerSmall}),"Deleting..."]}):"Delete ".concat(ey," Projects")})]})]})}),X&&(0,a.jsx)("div",{className:r().modalOverlay,onClick:()=>!k&&q(!1),children:(0,a.jsxs)("div",{className:r().modal,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:r().modalHeader,children:[(0,a.jsx)("h2",{children:"Approve Multiple Projects"}),!k&&(0,a.jsx)("button",{className:r().modalCloseButton,onClick:()=>q(!1),children:"\xd7"})]}),(0,a.jsxs)("div",{className:r().modalContent,children:[(0,a.jsx)("div",{className:r().approveIcon,children:(0,a.jsx)(j.g,{icon:u.SGM})}),(0,a.jsxs)("p",{className:r().modalMessage,children:["You're about to approve"," ",(0,a.jsx)("strong",{children:eC})," projects for processing."]}),(0,a.jsx)("p",{className:r().approveInstructions,children:'Once approved, these projects will be sent to our data engineers for review. The project status will change to "Pending" until processing begins.'}),(0,a.jsxs)("p",{className:r().noteText,children:["Note: Only projects in Draft status with uploaded files will be approved. (",ey-eC," of your selected projects will be skipped)"]})]}),(0,a.jsxs)("div",{className:r().modalActions,children:[!k&&(0,a.jsx)("button",{className:r().cancelButton,onClick:()=>q(!1),children:"Cancel"}),(0,a.jsx)("button",{className:r().confirmApproveButton,onClick:ep,disabled:k||0===eC,children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:r().spinnerSmall}),"Approving..."]}):"Approve ".concat(eC," Projects")})]})]})})]})}},96371:e=>{e.exports={container:"LoadingSpinner_container__Ox_kv",fullPageContainer:"LoadingSpinner_fullPageContainer__i6wC6",spinner:"LoadingSpinner_spinner__OND0E","spinner-rotate":"LoadingSpinner_spinner-rotate__FHLDk",inner:"LoadingSpinner_inner__mxw9h",text:"LoadingSpinner_text__XJBJf",pulse:"LoadingSpinner_pulse__G1sqf"}},97908:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(95155);s(12115);var o=s(96371),n=s.n(o);function c(e){let{size:t="large",text:s="Loading...",fullPage:o=!1,showText:c=!0}=e,l={small:"24px",medium:"40px",large:"64px"},i={width:l[t]||l.medium,height:l[t]||l.medium},r=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:n().spinner,style:i,children:(0,a.jsx)("div",{className:n().inner})}),c&&(0,a.jsx)("p",{className:n().text,children:s})]});return o?(0,a.jsx)("div",{className:n().fullPageContainer,children:r}):(0,a.jsx)("div",{className:n().container,children:r})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6518,9222,2266,9845,6530,9757,5,8441,6587,7358],()=>t(24673)),_N_E=e.O()}]);